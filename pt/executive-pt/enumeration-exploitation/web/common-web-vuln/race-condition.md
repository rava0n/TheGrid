# Race Condition

A **Race Condition** happens when the result of a process is **affected by the order or timing of events**. This often occurs when two or more operations run at the same time and impact each other. In **web applications**, this means **multiple requests happen simultaneously**, causing inconsistent or insecure states. It's especially risky when it involves tasks such as:

* Money transfers
* Order placements
* Account changes
* Inventory updates

Race conditions often occur due to shared resources. For example, if multiple threads try to access and change the same data at once, like a database record or an in-memory data structure, issues can arise. Here are three common causes:

* **Parallel Execution**: Web servers handle multiple user requests at once. If they access and change shared resources or application states without proper coordination, race conditions and unexpected behavior can result.
* **Database Operations**: When two users try to update the same database record at the same time, it may lead to inconsistent data. Using locking mechanisms and transaction isolation can help prevent this.
* **Third-Party Libraries and Services**: Many web apps use external libraries, APIs, and services. If these are not designed for simultaneous access, race conditions can occur when multiple requests interact with them at the same time.

If a web application is vulnerable, **timing** is important. The opportunity to exploit this flaw is brief, so we must send our requests to the server almost simultaneously, ideally within milliseconds of each other.



## Test Race Condition Vulnerability

1. explore and study how the target web application receives HTTP requests and how it responds to them. Using Burp Suite **Proxy.** The **HTTP history** tab logs every HTTP request and the respective response
2.  Find a request for example which trasnfer some money to another target and sent it to Burp Suite Repeater tab\


    <figure><img src="../../../../../.gitbook/assets/image (285).png" alt="" width="563"><figcaption></figcaption></figure>
3.  Now, create a Group Tab and duplicate the request 20 times, with the scope to run them simultaneously\


    <figure><img src="../../../../../.gitbook/assets/image (286).png" alt="" width="563"><figcaption></figcaption></figure>



    <figure><img src="../../../../../.gitbook/assets/image (287).png" alt="" width="563"><figcaption></figcaption></figure>

    <figure><img src="../../../../../.gitbook/assets/image (288).png" alt="" width="563"><figcaption></figcaption></figure>

    <figure><img src="../../../../../.gitbook/assets/image (289).png" alt="" width="563"><figcaption></figcaption></figure>



4. Next, we will exploit the target application by sending the duplicated request. Using the built-in options in Burp Suite Repeater, the drop-down arrow offers the following choices:
   * Send group in **sequence** (**single connection**)
   * Send group in **sequence** (**separate connections**)
   *   Send group in **parallel** **(last-byte sync:** Only once all packets are sent without the last-byte are the last-byte of all the requests sent)\
       \
       \
       All the request **was successfull**, and we transfer more money than there was.

       <figure><img src="../../../../../.gitbook/assets/Screenshot 2025-07-12 at 17.35.54 (1).png" alt=""><figcaption></figcaption></figure>





